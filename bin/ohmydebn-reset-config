#!/bin/bash

set -e

echo "WARNING!"
echo "Continuing will back up config files and reset them to OhMyDebn defaults."
echo
echo "Press Enter to continue or Ctrl-c to cancel."
read input

TIMESTAMP=$(date +%Y%m%d-%H%M%S)
for i in ~/.config/alacritty ~/.config/bat ~/.config/btop ~/.config/cava ~/.config/nvim ~/.config/rofi ~/.config/starship.toml ~/.oh-my-zsh ~/.zshrc; do
  if [ -e $i ]; then
    echo "Renaming $i to $i-backup-$TIMESTAMP"
    mv $i $i-backup-$TIMESTAMP
  fi
done

rm -rf ~/.local/state/ohmydebn*

bash ~/.local/share/ohmydebn/ohmydebn.sh
